<html>

<head>

    <meta charset="UTF-8">
    <meta name="description" content="Free Web tutorials">
    <meta name="keywords" content="HTML,CSS,XML,JavaScript">
    <meta name="author" content="Grigorios Krousiarlis">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Color Table </title>

    <style>
        body {
            margin: 30px;
        }

        #myTable {
            border: 1px solid black;
        }
    </style>

</head>

<body>
    <table id="myTable"> </table>
    <form id="userInput">
        <label for="row"> Rows:</label>
        <input type="number" id="rn" min="1" max="100" value="1"><br><br>
        <label for="col">Columns :</label>
        <input type="number" id="cn" min="1" max="100" value="1"><br><br>
        <input type="button" onclick="createTable()" value="Create the table">
        <input type="button" id="change" onclick="changeColor()" value="Change the colors" disabled>
        <input type="button" value="Reset table" onClick="resetTable()">
    </form>


</body>

<script>
    var colors = new Array("aqua", "blue", "fuchsia", "gray", "green", "lime", "maroon", "navy", "olive", "orange", "purple", "red", "silver", "teal", "yellow");
    var r = 0;
    function createTable() {
        document.getElementById("myTable").innerHTML = "";
        let myTable = document.getElementById("myTable");
        const rn = document.getElementById("rn").value;
        const cn = document.getElementById("cn").value;
        for (var r = 0; r < parseInt(rn, 10); r++) {
            var x = document.getElementById('myTable').insertRow(r);
            for (var c = 0; c < parseInt(cn, 10); c++) {
                var y = x.insertCell(c);
                y.innerText = "Row-" + r + " Column-" + c;
            }
        }
        changeColor();

        document.getElementById("change").disabled = false;

    }


    function resetTable() {
        document.getElementById("rn").value = "1";
        document.getElementById("cn").value = "1";
        document.getElementById("myTable").innerHTML = "";
        document.getElementById("change").disabled = true;
    }


    function changeColor() {
        let myTable = document.getElementById("myTable");
        const rn = document.getElementById("rn").value;
        const cn = document.getElementById("cn").value;

        for (var i = 0; i < rn; i++) {
            for (var j = 0; j < myTable.rows[i].cells.length; j++) {
                var x = Math.floor(Math.random() * 256);
                var y = Math.floor(Math.random() * 256);
                var z = Math.floor(Math.random() * 256);
                var bgColor = "rgb(" + x + "," + y + "," + z + ")";
                var r = Math.ceil(Math.random() * 15);
                myTable.rows[i].cells[j].style.backgroundColor = bgColor;
                console.log(bgColor);

            }
        }
    }


    // function changeColor() {
    //     let myTable = document.getElementById("myTable");
    //     const rn = document.getElementById("rn").value;
    //     const cn = document.getElementById("cn").value;
    //     for (var i = 0; i < rn; i++) {
    //         for (var j = 0; j < myTable.rows[i].cells.length; j++) {
    //             var r = Math.ceil(Math.random() * 15);
    //             myTable.rows[i].cells[j].style.backgroundColor = colors[r];
    //         }
    //     }
    // }
</script>

</html>